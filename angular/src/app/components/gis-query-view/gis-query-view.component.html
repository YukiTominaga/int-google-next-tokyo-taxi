<div class="wrap query-{{ selectedQueryNumber }} {{ language }}">
  <!-- section start -->
  <section class="select">
    <div class="select-ttl">Latest Info GIS Query
      <button class="btn-jp jp" (click)="changeLanguageTo('english')">EN</button>
      <button class="btn-en en" (click)="changeLanguageTo('japanese')">JP</button>
    </div>
    <div class="select-box">
      <button [attr.data-query]="query.id" *ngFor="let query of queryDetails" (click)="executeQuery(query)">
        <div class="jp" [innerHtml]="query.jpText"></div>
        <div class="en" [innerHtml]="query.enText"></div>
      </button>
    </div>
  </section>
  <!-- section start -->
  <section class="query" *ngIf="executingQuery">
    <div class="query-inner" >
      <div class="query-txt">
        <div class="query-txt-ttl jp">GIS クエリ</div>
        <div class="query-txt-ttl en">GIS Query</div>
        <div class="query-txt-q">
          {{ showQuery }}
          <div class="query-mask"><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i></div>
        </div>
      </div>
      <div class="query-map">
        <svg width="960px" height="960px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="query-polygon q-1">
          <circle cx="480" cy="480" r="250"/>
        </svg>
        <svg width="960px" height="960px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="query-dot q-1">
          <circle cx="521" cy="534" r="8"/>
          <circle cx="533" cy="446" r="8"/>
          <circle cx="505" cy="365" r="8"/>
          <circle cx="509" cy="289" r="8"/>
          <circle cx="436" cy="463" r="8"/>
          <circle cx="412" cy="526" r="8"/>
          <circle cx="331" cy="522" r="8"/>
          <circle cx="509" cy="583" r="8"/>
          <circle cx="480" cy="665" r="8"/>
          <circle cx="424" cy="653" r="8"/>
          <circle cx="587" cy="522" r="8"/>
          <circle cx="610" cy="634" r="8"/>
          <circle cx="343" cy="610" r="8"/>
          <circle cx="646" cy="470" r="8"/>
          <circle cx="622" cy="376" r="8"/>
          <circle cx="388" cy="388" r="8"/>
          <circle cx="310" cy="376" r="8"/>
          <circle cx="276" cy="427" r="8"/>
        </svg>
        <svg width="960px" height="960px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="query-polygon q-2">
          <polygon points="468,184 355,218 302,515 302,550 340,637 380,654 424,712 518,692 578,722 668,540 708,420 684,350
        641,332 585,322 566,261 485,216 "/>
        </svg>
        <svg width="960px" height="960px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="query-dot q-2">
          <circle cx="419" cy="707" r="8"/>
          <circle cx="462" cy="703" r="8"/>
          <circle cx="567" cy="715" r="8"/>
          <circle cx="597" cy="684" r="8"/>
          <circle cx="648" cy="580" r="8"/>
          <circle cx="687" cy="483" r="8"/>
          <circle cx="353" cy="226" r="8"/>
          <circle cx="345" cy="270" r="8"/>
          <circle cx="316" cy="433" r="8"/>
          <circle cx="405" cy="203" r="8"/>
          <circle cx="308" cy="483" r="8"/>
          <circle cx="549" cy="252" r="8"/>
          <circle cx="576" cy="294" r="8"/>
          <circle cx="656" cy="338" r="8"/>
          <circle cx="674" cy="521" r="8"/>
          <circle cx="389" cy="666" r="8"/>
        </svg>
        <svg width="960px" height="960px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="query-polygon q-3">

          <path d="M553.5,680.5l34,57l-28,21c0,0-43-29-55-30s-70,8-74,13l-8-10l9-18c0,0-32-19-40-33s-14-30-29-38s-71-56-102-56
        l4-10c0,0-14-20-7-36h5l-5-43l-9-7l8-17h10l-12-23l14-20c0,0-46-28-45-30s6-54,6-54l-10-19c0,0,36-31,40-31s20,8,20,8l-4,10l33,6
        c0,0,5-29,6-35s24-26,24-26s57-7,71-3s56,23,56,23l13-3l2,16l28-18l5-18l-11-19l20-13c0,0,31,20,35,20s52-8,52-8v28l10,2l14-10
        l28,16l1-6l20-4l6,6l-7,17l11,6c0,0,22-6,21-2s-19,25-19,25s0,33,29,53v32c0,0,28,32,28,39s-22,35-22,35l-27,10c0,0,5,33-2,46
        s-25,29-25,29l-27-10v-14l-13-1c0,0-4,66-6,67s-7-3-7-3l-9-11l-4-21l-5,1v-18l-22,2v11l-13-3l9,18c0,0-22,48-24,45s-31-45-31-45
        l21-17l-5-13l24-19l-3-10l-27,23l-7-11l2-14l-13,14l-4,63l43,68l-7,7h-13l-4,13H553.5z"/></svg>
        <svg width="960px" height="960px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="query-dot q-3">

          <circle cx="540" cy="480" r="8"/>
          <circle cx="528" cy="453" r="8"/>
          <circle cx="480" cy="480" r="8"/>
          <circle cx="471" cy="405" r="8"/>
          <circle cx="459" cy="522" r="8"/>
          <circle cx="510" cy="492" r="8"/>
          <circle cx="409" cy="483" r="8"/>
          <circle cx="429" cy="512" r="8"/>
          <circle cx="447" cy="483" r="8"/>
          <circle cx="441" cy="429" r="8"/>
          <circle cx="504" cy="413" r="8"/>
          <circle cx="579" cy="366" r="8"/>
          <circle cx="613" cy="303" r="8"/>
          <circle cx="618" cy="429" r="8"/>
          <circle cx="613" cy="540" r="8"/>
          <circle cx="504" cy="710" r="8"/>
          <circle cx="700" cy="471" r="8"/>
          <circle cx="447" cy="635" r="8"/>
          <circle cx="337" cy="583" r="8"/>
          <circle cx="453" cy="291" r="8"/>
          <circle cx="516" cy="326" r="8"/>
          <circle cx="363" cy="406" r="8"/>
          <circle cx="337" cy="495" r="8"/>
          <circle cx="492" cy="448" r="8"/>
          <circle cx="290" cy="366" r="8"/>
          <circle cx="504" cy="571" r="8"/>
          <circle cx="504" cy="540" r="8"/>
          <circle cx="528" cy="512" r="8"/></svg>
        <svg width="960px" height="960px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="query-polygon q-4">
          <path d="M645,294c0,0-64-39-85-44s-156-24-171-14s-98,152-125,169s-57,47-56,97s30,85,50,91s34,32,43,52s68,87,126,64
        l101,43l36-71l39-11c0,0,93-158,87-167s-32-40-32-40l16-40c0,0,45,12,146-70v-52c0,0-65-98-76-101s-57-2-57-2s-11,53-13,76
        S645,294,645,294z"/></svg>
        <svg width="960px" height="960px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="query-dot q-4">
          <circle cx="550" cy="633" r="8"/>
          <circle cx="561" cy="593" r="8"/>
          <circle cx="329" cy="592" r="8"/>
          <circle cx="384" cy="576" r="8"/>
          <circle cx="271" cy="513" r="8"/>
          <circle cx="232" cy="499" r="8"/>
          <circle cx="629" cy="552" r="8"/>
          <circle cx="619" cy="592" r="8"/>
          <circle cx="607" cy="440" r="8"/>
          <circle cx="567" cy="413" r="8"/>
          <circle cx="570" cy="342" r="8"/>
          <circle cx="582" cy="309" r="8"/>
          <circle cx="696" cy="332" r="8"/>
          <circle cx="736" cy="285" r="8"/>
          <circle cx="736" cy="334" r="8"/>
          <circle cx="786" cy="330" r="8"/>
          <circle cx="480" cy="607" r="8"/>
          <circle cx="550" cy="525" r="8"/>
          <circle cx="463" cy="318" r="8"/>
          <circle cx="444" cy="672" r="8"/>
          <circle cx="384" cy="452" r="8"/>
          <circle cx="414" cy="366" r="8"/>
          <circle cx="317" cy="398" r="8"/>
          <circle cx="492" cy="367" r="8"/>
        </svg>
      </div>
      <div class="query-msg jp">位置情報ポリゴン内のデータを取得しています</div>
      <div class="query-msg en">Acquiring data within the polygon</div>
    </div>
  </section>
  <!-- section start -->
  <section class="result result-1" *ngIf="showResult">
    <div class="result-inner">
      <div class="result-chart">
        <div class="result-chart-count count-{{taxiCount}}"><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i></div>
        <div class="result-chart-bar">
          <h2 class="jp">乗車ランキング</h2>
          <h2 class="en">Ride ranking</h2>
          <dl *ngFor="let obj of rideOnRanking">
            <dt class="jp">{{ obj.name }}</dt>
            <dt class="en">{{ obj.name }}</dt>
            <dd><i [style.width]="obj.rate * 100 + '%'"></i></dd>
            <dd>{{ obj.count | number: '1.0-0' }}</dd>
          </dl>
        </div>
        <div class="result-chart-bar q-3">
          <h2 class="jp">降車ランキング</h2>
          <h2 class="en">Drop off ranking</h2>
          <dl *ngFor="let obj of getOffRanking">
            <dt class="jp">{{ obj.name }}</dt>
            <dt class="en">{{ obj.name }}</dt>
            <dd><i [style.width]="obj.rate * 100 + '%'"></i></dd>
            <dd>{{ obj.count | number: '1.0-0' }}</dd>
          </dl>
        </div>
      </div>
      <div class="result-txt">
        <div class="result-txt-txt q-1 jp">この場所から1km以内の<br>タクシーは<strong>{{ taxiCount }}</strong>台です。</div>
        <div class="result-txt-txt q-1 en">There are <strong>{{ taxiCount }}</strong> taxis<br>within 1 km from this place.</div>
        <div class="result-txt-txt q-2 jp">内堀通りには<strong>{{ taxiCount }}</strong>台の<br>タクシーが走っています。</div>
        <div class="result-txt-txt q-2 en"><strong>{{ taxiCount }}</strong> taxis are driving<br>in Uchibori Dori.</div>
        <div class="result-txt-txt q-3 jp">過去<strong>20</strong>分以内のタクシー<br>乗降車ランキングです。</div>
        <div class="result-txt-txt q-3 en">Taxi ride / drop off ranking<br>within <strong>20</strong> minutes.</div>
        <div class="result-txt-txt q-4 jp">千代田区で空車のタクシーは<br><strong>{{ taxiCount }}</strong>台です。</div>
        <div class="result-txt-txt q-4 en">There are <strong>{{ taxiCount }}</strong> vacant taxis<br>in Chiyoda Ward.</div>
        <div class="result-txt-box">
          <dl>
            <dt class="jp">実行時間</dt>
            <dt class="en">Execution time</dt>
            <dd>{{ queryExecTime | number: '1.0-0'}} ms</dd>
          </dl>
          <dl>
            <dt class="jp">スキャン容量</dt>
            <dt class="en">Scanning volume</dt>
            <dd>{{ scanningVolume | number: '1.0-0' }} KB</dd>
          </dl>
          <dl>
            <dt class="jp">レコード数</dt>
            <dt class="en">Number of records</dt>
            <dd>{{ numRows | number: '1.0-0'}}</dd>
          </dl>
        </div>
      </div>
      <button class="result-back jp" (click)="backToQueryListView()">戻る</button>
      <button class="result-back en" (click)="backToQueryListView()">Back</button>
    </div>
  </section>
</div>
